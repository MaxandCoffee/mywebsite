function validEmail(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t.test(e)}function getFormData(){var e=document.getElementById("gform").elements,t=Object.keys(e).map(function(t){return void 0!==e[t].name?e[t].name:e[t].length>0?e[t].item(0).name:void 0}).filter(function(e,t,o){return o.indexOf(e)==t&&e}),o={};return t.forEach(function(t){if(o[t]=e[t].value,"checkbox"===e[t].type)o[t]=e[t].checked;else if(e[t].length)for(var n=0;n<e[t].length;n++)e[t].item(n).checked&&(o[t]=e[t].item(n).value)}),console.log(o),o}function handleFormSubmit(e){e.preventDefault();var t=getFormData(),o=document.getElementById("name").value,n=o.substr(0,o.indexOf(" ")),a=e.target.action,r=new XMLHttpRequest;r.open("POST",a),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){console.log(r.status,r.statusText),console.log(r.responseText),document.getElementById("gform").style.display="none",document.getElementById("senderName").innerHTML=n,document.getElementById("thankyouMessage").style.display="block"};var i=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");r.send(i)}function loaded(){console.log("contact form submission handler loaded successfully");var e=document.getElementById("gform");e.addEventListener("submit",handleFormSubmit,!1)}document.addEventListener("DOMContentLoaded",loaded,!1);